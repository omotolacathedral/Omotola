{% extends 'admin/admin_base.html' %}

{% block content %}

<div class="col-xl-8">
    <div class="white_card card_height_100 mb_30">
        <div class="white_card_header">
            <div class="box_header m-0">
                <div class="main-title">
                    <h3 class="m-0">Update Announcement</h3>
                </div>
            </div>
        </div>
        <div class="white_card_body">
            
            {% for message in messages %}
                {% if message.tags != "success" %}
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        <strong style="text-transform: capitalize;">{{user.username}}!</strong> {{message}}.
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>    
                {% else %}
                    <div class="alert alert-{{message.tags}} alert-dismissible fade show" role="alert">
                        <strong style="text-transform: capitalize;">{{user.username}}!</strong> {{message}}.
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>    
                {% endif %}
            {% endfor %}

            <div class="common_form">
                <form action="{% url 'update-announcement' announcement.id %}" method="POST" enctype="multipart/form-data">
                    {% csrf_token %}

                    <div class="row">
                        <div class="col-lg-12">
                            <div class="common_input mb_15">
                                <input class="form-control" type="number" name="announceId" value="{{announcement.id}}" hidden />
                            </div>
                        </div>
                        <div class="col-lg-12" style="margin-bottom: 25px;">
                            <p style="margin-bottom: 7px;">Announcement or Event Picture</p>
                            <input type="file" name="event_image" id="event_image" placeholder="Image File" value="{{event.event_announcement}}" required/>
                        </div>
                        <div class="col-12">
                            <div class="create_report_btn mt_30">
                                <button class="btn_1 radius_btn d-block text-center form-control" type="submit">Save Update</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock %}